@use "fonts" as f;
@use "variables" as v;
@use "sass:color";
@layer base {
  :root {
    --spacing: #{v.$spacing};
    @each $name, $value in v.$colors {
      --#{$name}: #{$value};
      @if ($name == "black") {
        --#{$name}-hover: #{color.scale($value, $lightness: 20%)};
      } @else {
        --#{$name}-hover: #{color.scale($value, $lightness: -20%)};
      }
    }

    $shades: (
      950: 12%,
      900: 20%,
      800: 28%,
      700: 35%,
      600: 50%,
      500: 60%,
      400: 71%,
      300: 82%,
      200: 90%,
      100: 95%,
      50: 97%,
    );
    /*
    Nuancier de couleurs plutÃ´t
    (du coup, le nom lightgrey n'a plus trop de sens ici...)
    */
    @each $colorName, $colorValue in v.$colors {
      @if ($colorName != "black" and $colorName != "white") {
        $hue: color.channel($colorValue, "hue", hsl);
        $saturation: color.channel($colorValue, "saturation", hsl);
        $lightness: color.channel($colorValue, "lightness", hsl);
        $previousShadeValue: 0%;
        @each $shadeName, $shadeValue in $shades {
          @if ($lightness > $previousShadeValue and $lightness < $shadeValue) {
            //conserver la couleur d'origine et la mettre dans une shade
            --#{$colorName}-#{$shadeName}: hsl(#{$hue}, #{$saturation}, #{$lightness}); /* Original */
            @debug $colorName, $shadeName;
          } @else {
            --#{$colorName}-#{$shadeName}: hsl(#{$hue}, #{$saturation}, #{$shadeValue});
          }
          $previousShadeValue: $shadeValue;
        }
      }
    }
  }

  body {
    font-family: f.$mainFont;
  }

  img {
    max-width: 100%;
  }
}
